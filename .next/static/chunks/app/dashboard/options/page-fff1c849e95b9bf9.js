(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{9206:function(e,t,s){Promise.resolve().then(s.bind(s,7052))},7052:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437),a=s(2265),n=s(7064),i=s(6070),l=s(2869),c=s(5974),o=s(4508),d=s(740),u=s(4401),x=s(6865),m=s(2208);function f(){let[e,t]=(0,a.useState)(!0),[s,f]=(0,a.useState)(!1),[p,h]=(0,a.useState)([]),[g,y]=(0,a.useState)("all"),v=async()=>{f(!0);try{let e=["AAPL","TSLA","NVDA","MSFT","SPY"].map(async e=>{try{let t=await fetch(`/api/options?ticker=${e}&type=flow-alerts`);if(t.ok){let s=await t.json();return(s.data?.data||s.data||[]).map(t=>({ticker:t.underlying_symbol||e,option_symbol:t.option_symbol,underlying_symbol:t.underlying_symbol||e,option_type:(t.option_type||"call").toUpperCase(),strike:parseFloat(t.strike||"0"),expiry:t.expiry||"",volume:t.size||t.volume||0,open_interest:t.open_interest||0,premium:parseFloat(t.premium||t.price||"0"),price:parseFloat(t.price||t.premium||"0"),implied_volatility:parseFloat(t.implied_volatility||"0"),unusual_activity:t.tags?.includes("unusual")||!1,timestamp:t.executed_at?new Date(t.executed_at).toISOString():new Date().toISOString(),executed_at:t.executed_at,size:t.size||0,tags:t.tags||[],delta:parseFloat(t.delta||"0"),theta:parseFloat(t.theta||"0"),gamma:parseFloat(t.gamma||"0"),vega:parseFloat(t.vega||"0")}))}}catch(t){console.error(`Failed to fetch options data for ${e}:`,t)}return[]}),t=(await Promise.all(e)).flat();h(t)}catch(e){console.error("Failed to fetch options data:",e),h([])}finally{f(!1),t(!1)}};(0,a.useEffect)(()=>{v()},[]);let j=p.filter(e=>{switch(g){case"unusual":return e.unusual_activity;case"calls":return"CALL"===e.option_type;case"puts":return"PUT"===e.option_type;default:return!0}}),b=e=>"CALL"===e.toUpperCase()?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";return e?(0,r.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,r.jsx)(n.h,{title:"Options Activity",description:"Monitor unusual options trades and activity"}),(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):(0,r.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,r.jsx)(n.h,{title:"Options Activity",description:"Monitor unusual options trades and market activity",onRefresh:v,refreshing:s}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex space-x-2",children:[{key:"all",label:"All Activity",count:p.length},{key:"unusual",label:"Unusual Only",count:p.filter(e=>e.unusual_activity).length},{key:"calls",label:"Calls",count:p.filter(e=>"CALL"===e.option_type).length},{key:"puts",label:"Puts",count:p.filter(e=>"PUT"===e.option_type).length}].map(e=>(0,r.jsxs)(l.z,{variant:g===e.key?"default":"outline",size:"sm",onClick:()=>y(e.key),className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{children:e.label}),(0,r.jsx)(c.C,{variant:"secondary",className:"ml-1 text-xs",children:e.count})]},e.key))}),(0,r.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>alert("Advanced filters coming soon!"),children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{className:"pb-2",children:(0,r.jsx)(i.ll,{className:"text-sm font-medium text-gray-600",children:"Total Volume"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:(0,o.fP)(p.reduce((e,t)=>e+t.volume,0))})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{className:"pb-2",children:(0,r.jsx)(i.ll,{className:"text-sm font-medium text-gray-600",children:"Unusual Alerts"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:p.filter(e=>e.unusual_activity).length})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{className:"pb-2",children:(0,r.jsx)(i.ll,{className:"text-sm font-medium text-gray-600",children:"Call/Put Ratio"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:(p.filter(e=>"CALL"===e.option_type).length/Math.max(1,p.filter(e=>"PUT"===e.option_type).length)).toFixed(2)})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{className:"pb-2",children:(0,r.jsx)(i.ll,{className:"text-sm font-medium text-gray-600",children:"Avg Premium"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:(0,o.xG)(p.reduce((e,t)=>e+("number"==typeof t.premium?t.premium:parseFloat(t.premium)||0),0)/p.length||0)})})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:0===j.length?(0,r.jsx)(i.Zb,{children:(0,r.jsx)(i.aY,{className:"flex items-center justify-center h-32",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(u.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No options activity found for selected filter"})]})})}):j.map(e=>(0,r.jsx)(i.Zb,{className:"hover:shadow-lg transition-shadow",children:(0,r.jsxs)(i.aY,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[e.unusual_activity&&(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-orange-100 rounded-full",children:(0,r.jsx)(x.Z,{className:"h-4 w-4 text-orange-600"})}),(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:e.ticker})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:e.ticker}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,r.jsx)(c.C,{className:b(e.option_type),children:e.option_type}),(0,r.jsxs)("span",{children:["$",e.strike]}),(0,r.jsx)("span",{children:new Date(e.expiry).toLocaleDateString()})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Volume"}),(0,r.jsx)("p",{className:"font-semibold",children:(0,o.fP)(e.volume)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"OI"}),(0,r.jsx)("p",{className:"font-semibold",children:(0,o.fP)(e.open_interest||0)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Premium"}),(0,r.jsx)("p",{className:"font-semibold",children:(0,o.xG)(e.premium)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"IV"}),(0,r.jsxs)("p",{className:"font-semibold",children:[e.implied_volatility,"%"]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Time"}),(0,r.jsx)("p",{className:"text-xs",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():"N/A"})]})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>alert(`View details for ${e.ticker} ${e.option_type} contract`),children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"Details"]})})]}),e.unusual_activity&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 text-orange-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"Unusual Activity Detected"})]}),(0,r.jsxs)("p",{className:"text-xs text-orange-700 dark:text-orange-300 mt-1",children:["Volume is ",(e.volume/Math.max(1,e.open_interest||1)*100).toFixed(0),"% of open interest"]})]})]})},e.option_symbol||`${e.ticker}-${e.strike}-${e.expiry}`))})]})]})}},7064:function(e,t,s){"use strict";s.d(t,{h:function(){return l}});var r=s(7437),a=s(2869),n=s(7168),i=s(4766);function l({title:e,description:t,onRefresh:s,refreshing:l=!1,showRefresh:c=!0}){return(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e}),t&&(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[c&&s&&(0,r.jsxs)(a.z,{variant:"outline",size:"sm",onClick:s,disabled:l,className:"flex items-center space-x-2",children:[(0,r.jsx)(n.Z,{className:`h-4 w-4 ${l?"animate-spin":""}`}),(0,r.jsx)("span",{children:"Refresh"})]}),(0,r.jsx)(a.z,{variant:"outline",size:"icon",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Analytics User"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Personal Dashboard"})]}),(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:"U"})})]})]})]})})}},5974:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(7437);s(2265);var a=s(7712),n=s(4508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...s})}},2869:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var r=s(7437),a=s(2265),n=s(7053),i=s(7712),l=s(4508);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...i},o)=>{let d=a?n.g7:"button";return(0,r.jsx)(d,{className:(0,l.cn)(c({variant:t,size:s,className:e})),ref:o,...i})});o.displayName="Button"},6070:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var r=s(7437),a=s(2265),n=s(4508);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4508:function(e,t,s){"use strict";s.d(t,{Z8:function(){return o},cn:function(){return n},fP:function(){return l},p6:function(){return c},xG:function(){return i}});var r=s(1994),a=s(3335);function n(...e){return(0,a.m6)((0,r.W)(e))}function i(e,t="USD"){let s="string"==typeof e?parseFloat(e):e;return isNaN(s)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(s)}function l(e){let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"0":t>=1e9?`${(t/1e9).toFixed(2)}B`:t>=1e6?`${(t/1e6).toFixed(2)}M`:t>=1e3?`${(t/1e3).toFixed(2)}K`:t.toFixed(0)}function c(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function o(){let e=new Date(new Date().toLocaleString("en-US",{timeZone:"America/New_York"})),t=e.getHours(),s=e.getMinutes(),r=e.getDay();if(0===r||6===r)return"closed";let a=60*t+s;return a<570?"pre-market":a>=570&&a<960?"open":"after-hours"}},4401:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},4766:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},2208:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},740:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7168:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6865:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},function(e){e.O(0,[73,478,117,744],function(){return e(e.s=9206)}),_N_E=e.O()}]);