"use strict";(()=>{var e={};e.id=1342,e.ids=[1342],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3349:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>y,patchFetch:()=>b,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>T,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{POST:()=>u});var s=t(9303),i=t(8716),a=t(670),n=t(7070);async function u(e){try{let r=await e.json();if(console.log(`ðŸ“¤ Processing ${r.source} order:`,{symbol:r.symbol,action:r.action,type:r.orderType,quantity:r.quantity}),"IBKR"===r.source){let e=await c(r);return n.NextResponse.json(e)}{let e=await d(r);return n.NextResponse.json(e)}}catch(e){return console.error("Order submission error:",e),n.NextResponse.json({success:!1,error:"Failed to submit order"},{status:500})}}async function c(e){try{return await new Promise(e=>setTimeout(e,500)),{success:!0,orderId:Math.floor(1e4*Math.random()),status:"SUBMITTED",message:"Order submitted to IBKR TWS",timestamp:new Date().toISOString(),source:"IBKR"}}catch(e){return{success:!1,error:"IBKR order submission failed",fallbackToVirtual:!0}}}async function d(e){await new Promise(e=>setTimeout(e,200));let r={AAPL:175.5,MSFT:380.25,GOOGL:140.75,TSLA:245.3,AMZN:145.8,NVDA:480.6,META:325.4,SPY:445.2,QQQ:375.8,IWM:195.4}[e.symbol]||100+200*Math.random(),t=r;if("MARKET"===e.orderType){let o=.001*r;t="BUY"===e.action?r+o:r-o}else"LIMIT"===e.orderType&&e.price&&(t=e.price);return{success:!0,orderId:`virtual_${Date.now()}`,status:"FILLED",fillPrice:Math.round(100*t)/100,fillTime:new Date().toISOString(),commission:1,message:"Virtual order filled",source:"VIRTUAL"}}let p=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/ibkr/order/route",pathname:"/api/ibkr/order",filename:"route",bundlePath:"app/api/ibkr/order/route"},resolvedPagePath:"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\api\\ibkr\\order\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:T}=p,y="/api/ibkr/order/route";function b(){return(0,a.patchFetch)({serverHooks:T,staticGenerationAsyncStorage:m})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[9276,5972],()=>t(3349));module.exports=o})();