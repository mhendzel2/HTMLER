"use strict";(()=>{var e={};e.id=6550,e.ids=[6550],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4702:(e,n,t)=>{t.r(n),t.d(n,{originalPathname:()=>R,patchFetch:()=>b,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{GET:()=>l,POST:()=>i});var r=t(9303),s=t(8716),c=t(670),a=t(7070);async function i(e){try{let{host:n,port:t,clientId:o}=await e.json();if(console.log(`ðŸ”Œ Attempting IBKR connection to ${n}:${t} with clientId ${o}`),await u(n,t,o))return a.NextResponse.json({success:!0,status:"connected",account:"DU123456",balance:1e6,currency:"USD",connectionTime:new Date().toISOString()});return a.NextResponse.json({success:!1,error:"Unable to connect to IBKR TWS. Please ensure TWS is running and API is enabled.",fallbackMode:"virtual"},{status:503})}catch(e){return console.error("IBKR connection error:",e),a.NextResponse.json({success:!1,error:"Connection failed",fallbackMode:"virtual"},{status:500})}}async function u(e,n,t){try{if(await new Promise(e=>setTimeout(e,1e3)),Math.random()>.7)return console.log("âœ… Simulated IBKR TWS connection successful"),!0;return console.log("âŒ Simulated IBKR TWS connection failed - TWS not running or API disabled"),!1}catch(e){return console.log("âŒ IBKR connection error:",e),!1}}async function l(e){return a.NextResponse.json({status:"disconnected",message:"Use POST to establish connection"})}let d=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/ibkr/connect/route",pathname:"/api/ibkr/connect",filename:"route",bundlePath:"app/api/ibkr/connect/route"},resolvedPagePath:"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\api\\ibkr\\connect\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:g}=d,R="/api/ibkr/connect/route";function b(){return(0,c.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}}};var n=require("../../../../webpack-runtime.js");n.C(e);var t=e=>n(n.s=e),o=n.X(0,[9276,5972],()=>t(4702));module.exports=o})();