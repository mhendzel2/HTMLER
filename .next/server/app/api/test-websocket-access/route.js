"use strict";(()=>{var e={};e.id=3462,e.ids=[3462],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2471:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>u,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l});var r={};s.r(r),s.d(r,{GET:()=>i});var o=s(9303),a=s(8716),n=s(670),c=s(7070);async function i(e){try{let e=process.env.UNUSUAL_WHALES_API_BASE_URL||"https://api.unusualwhales.com",t=process.env.UNUSUAL_WHALES_API_KEY;if(!t)return c.NextResponse.json({error:"API key not configured",hasWebSocketScope:!1},{status:500});console.log("Testing WebSocket access...");let s=[],r=!1;for(let o of["/api/socket/gex","/api/socket/price"])try{console.log(`Testing endpoint: ${e}${o}`);let a=await fetch(`${e}${o}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}),n=await a.text();console.log(`Endpoint ${o} - Status: ${a.status}, Response: ${n.substring(0,100)}`);let c=200===a.status&&n.includes('"data"');c&&(r=!0),s.push({endpoint:o,status:a.status,statusText:a.statusText,accessible:c,response:n.substring(0,200)})}catch(e){console.error(`Error testing ${o}:`,e),s.push({endpoint:o,status:0,statusText:"Network Error",accessible:!1,error:e instanceof Error?e.message:"Unknown error"})}return c.NextResponse.json({hasWebSocketScope:r,testResults:s,message:r?"WebSocket endpoints are accessible - real-time data streaming available!":"WebSocket endpoints are not accessible - contact support@unusualwhales.com",availableChannels:r?["gex_strike_expiry:<TICKER>","gex:TICKER","gex_strike:TICKER","price:TICKER","flow-alerts","news"]:[]})}catch(e){return console.error("WebSocket test API error:",e),c.NextResponse.json({error:e instanceof Error?e.message:"Unknown error",hasWebSocketScope:!1},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/test-websocket-access/route",pathname:"/api/test-websocket-access",filename:"route",bundlePath:"app/api/test-websocket-access/route"},resolvedPagePath:"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\api\\test-websocket-access\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:u,staticGenerationAsyncStorage:l,serverHooks:d}=p,g="/api/test-websocket-access/route";function h(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,5972],()=>s(2471));module.exports=r})();