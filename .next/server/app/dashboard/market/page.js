(()=>{var e={};e.id=971,e.ids=[971],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9231:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>h,tree:()=>c}),t(4057),t(5688),t(7564),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["dashboard",{children:["market",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4057)),"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\dashboard\\market\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5688)),"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7564)),"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\mjhen\\HTER\\HTMLER\\app\\dashboard\\market\\page.tsx"],o="/dashboard/market/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/market/page",pathname:"/dashboard/market",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2486:(e,s,t)=>{Promise.resolve().then(t.bind(t,7323))},7323:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(326),r=t(7577),l=t(4186),i=t(3071),n=t(567),d=t(7863),c=t(7069),m=t(9163),o=t(6697),x=t(6754),h=t(1821),u=t(7507);let p=["Technology","Healthcare","Financial Services","Consumer Cyclical","Consumer Defensive","Energy","Industrials","Communication Services","Real Estate","Utilities","Basic Materials"];function g(){let[e,s]=(0,r.useState)(!0),[t,g]=(0,r.useState)(!1),[j,b]=(0,r.useState)(null),[f,v]=(0,r.useState)("all"),[N,y]=(0,r.useState)([]),[_,w]=(0,r.useState)(!1),k=async()=>{w(!0);try{let e=p.map(async e=>{try{let s=await fetch(`/api/market?type=sector-tide&sector=${encodeURIComponent(e)}`);if(s.ok){let t=await s.json();if(t.data&&t.data.length>0){let s=t.data[t.data.length-1],a=parseFloat(s.net_call_premium),r=parseFloat(s.net_put_premium),l="neutral";return a>Math.abs(r)?l="bullish":Math.abs(r)>a&&(l="bearish"),{sector:e,net_call_premium:a,net_put_premium:r,net_volume:s.net_volume,sentiment:l,call_put_ratio:0!==r?Math.abs(a/r):0,total_premium:Math.abs(a)+Math.abs(r)}}}}catch(s){console.warn(`Failed to fetch data for sector ${e}:`,s)}return null}),s=(await Promise.all(e)).filter(e=>null!==e);y(s)}catch(e){console.error("Failed to fetch sector data:",e),y([])}finally{w(!1)}},M=async()=>{g(!0);try{let e=await fetch("/api/market?type=tide&interval_5m=true");if(e.ok){let s=await e.json();if(s.data&&s.data.length>0){let e=s.data[s.data.length-1],t=s.data.length>1?s.data[s.data.length-2]:null,a=parseFloat(e.net_call_premium),r=parseFloat(e.net_put_premium),l="neutral";a>Math.abs(r)?l="bullish":Math.abs(r)>a&&(l="bearish");let i=t?{call_premium_change:a-parseFloat(t.net_call_premium),put_premium_change:r-parseFloat(t.net_put_premium),volume_change:e.net_volume-t.net_volume}:{call_premium_change:0,put_premium_change:0,volume_change:0},n={latest_timestamp:e.timestamp,net_call_premium:a,net_put_premium:r,call_put_ratio:0!==r?Math.abs(a/r):0,net_volume:e.net_volume,total_premium:Math.abs(a)+Math.abs(r),overall_sentiment:l,change_5m:i};b(n)}else console.error("No market tide data available"),b(null)}else console.error("Failed to fetch market data:",e.statusText),b(null)}catch(e){console.error("Failed to fetch market data:",e),b(null)}finally{g(!1),s(!1)}},C=e=>{switch(e){case"bullish":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"bearish":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}};return e?(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[a.jsx(l.h,{title:"Market Overview",description:"Comprehensive market analysis and sector insights"}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):j?(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[a.jsx(l.h,{title:"Market Overview",description:"Comprehensive market analysis and sector insights",onRefresh:()=>{M(),k()},refreshing:t||_}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Market Sentiment"}),(e=>{switch(e){case"bullish":return a.jsx(c.Z,{className:"h-4 w-4"});case"bearish":return a.jsx(m.Z,{className:"h-4 w-4"});default:return a.jsx(o.Z,{className:"h-4 w-4"})}})(j.overall_sentiment)]}),(0,a.jsxs)(i.aY,{children:[a.jsx(n.C,{className:C(j.overall_sentiment),children:j.overall_sentiment?.toUpperCase()||"NEUTRAL"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on options flow analysis"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Call/Put Ratio"}),a.jsx(x.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:j.call_put_ratio?.toFixed(2)||"0.00"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(j.call_put_ratio||0)>1?"Call-heavy":"Put-heavy"," market"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Total Premium"}),a.jsx(h.Z,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[(0,d.xG)((j.total_premium||0)/1e6),"M"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total options premium today"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Net Volume"}),a.jsx(o.Z,{className:"h-4 w-4 text-orange-600"})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(0,d.fP)(j.net_volume)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest 5-minute interval"})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Market Tide Analysis"}),a.jsx(i.SZ,{children:"Real-time options premium flow and volume trends (5-minute intervals)"})]}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(c.Z,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Net Call Premium"})]}),a.jsx(n.C,{className:j.net_call_premium>=0?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:j.net_call_premium>=0?"Bullish":"Bearish"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold mb-1",children:[(0,d.xG)(Math.abs(j.net_call_premium)/1e6),"M"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["5m change: ",(0,d.xG)(j.change_5m.call_premium_change/1e6),"M"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(m.Z,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"font-medium",children:"Net Put Premium"})]}),a.jsx(n.C,{className:j.net_put_premium>=0?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:j.net_put_premium>=0?"Bearish":"Bullish"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold mb-1",children:[(0,d.xG)(Math.abs(j.net_put_premium)/1e6),"M"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["5m change: ",(0,d.xG)(j.change_5m.put_premium_change/1e6),"M"]})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(o.Z,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Volume Trends"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Current Volume"}),a.jsx("p",{className:"text-lg font-semibold",children:(0,d.fP)(j.net_volume)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"5m Change"}),(0,a.jsxs)("p",{className:`text-lg font-semibold ${j.change_5m.volume_change>=0?"text-green-600":"text-red-600"}`,children:[j.change_5m.volume_change>=0?"+":"",(0,d.fP)(j.change_5m.volume_change)]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Call/Put Ratio"}),a.jsx("p",{className:"text-lg font-semibold",children:j.call_put_ratio.toFixed(2)})]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground text-center",children:["Last updated: ",new Date(j.latest_timestamp).toLocaleString()]})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Sector Tide Analysis"}),a.jsx(i.SZ,{children:"Options activity breakdown by sector showing institutional flow patterns"})]}),a.jsx(i.aY,{children:_?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):N.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.sort((e,s)=>s.total_premium-e.total_premium).map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-sm",children:e.sector}),a.jsx(n.C,{className:C(e.sentiment),children:e.sentiment.toUpperCase()})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Call Premium"}),(0,a.jsxs)("span",{className:`text-sm font-medium ${e.net_call_premium>=0?"text-green-600":"text-red-600"}`,children:[(0,d.xG)(Math.abs(e.net_call_premium)/1e6),"M"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Put Premium"}),(0,a.jsxs)("span",{className:`text-sm font-medium ${e.net_put_premium>=0?"text-red-600":"text-green-600"}`,children:[(0,d.xG)(Math.abs(e.net_put_premium)/1e6),"M"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Volume"}),a.jsx("span",{className:`text-sm font-medium ${e.net_volume>=0?"text-green-600":"text-red-600"}`,children:(0,d.fP)(e.net_volume)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"C/P Ratio"}),a.jsx("span",{className:"text-sm font-medium",children:e.call_put_ratio.toFixed(2)})]})]}),a.jsx("div",{className:"mt-3 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-300 ${"bullish"===e.sentiment?"bg-green-500 w-full":"bearish"===e.sentiment?"bg-red-500 w-3/4":"bg-yellow-500 w-1/2"}`})})]},e.sector))}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sector data available"})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Market Insights"}),a.jsx(i.SZ,{children:"Key takeaways from today's options activity"})]}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(u.Z,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Sector Rotation"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Technology and Healthcare showing increased options activity, suggesting potential sector rotation in progress."})]}),(0,a.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(c.Z,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Bullish Sentiment"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Call/Put ratio above 1.0 indicates overall bullish sentiment with increased call buying across major indices."})]}),(0,a.jsxs)("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(o.Z,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"font-medium",children:"Volatility Spike"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unusual options activity detected in Financial Services, potentially indicating upcoming earnings or events."})]}),(0,a.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(x.Z,{className:"h-5 w-5 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"Volume Analysis"})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Above-average volume in Consumer Cyclical suggests institutional positioning ahead of earnings season."})]})]})})]})]})]}):(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[a.jsx(l.h,{title:"Market Overview",description:"Comprehensive market analysis and sector insights"}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-gray-500",children:"Failed to load market data"})})]})}},4186:(e,s,t)=>{"use strict";t.d(s,{h:()=>n});var a=t(326),r=t(772),l=t(1405),i=t(6507);function n({title:e,description:s,onRefresh:t,refreshing:n=!1,showRefresh:d=!0}){return a.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e}),s&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[d&&t&&(0,a.jsxs)(r.z,{variant:"outline",size:"sm",onClick:t,disabled:n,className:"flex items-center space-x-2",children:[a.jsx(l.Z,{className:`h-4 w-4 ${n?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsx(r.z,{variant:"outline",size:"icon",children:a.jsx(i.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Analytics User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Personal Dashboard"})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:"U"})})]})]})]})})}},567:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var a=t(326);t(7577);var r=t(8671),l=t(7863);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...t}){return a.jsx("div",{className:(0,l.cn)(i({variant:s}),e),...t})}},6507:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},1821:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1405:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4057:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\mjhen\HTER\HTMLER\app\dashboard\market\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,2643,5524,9308],()=>t(9231));module.exports=a})();