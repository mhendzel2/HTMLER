(()=>{var e={};e.id=1169,e.ids=[1169],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6444:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),t(768),t(5688),t(7564),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let o=["",{children:["dashboard",{children:["earnings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,768)),"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\dashboard\\earnings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5688)),"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7564)),"C:\\Users\\mjhen\\HTER\\HTMLER\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\mjhen\\HTER\\HTMLER\\app\\dashboard\\earnings\\page.tsx"],m="/dashboard/earnings/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/earnings/page",pathname:"/dashboard/earnings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},115:(e,s,t)=>{Promise.resolve().then(t.bind(t,4039))},4039:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var a=t(326),r=t(7577),l=t(4186),i=t(3071),n=t(567),c=t(1048),o=t(4474),d=t(9210),m=t(772),x=t(5226),h="horizontal",p=["horizontal","vertical"],u=r.forwardRef((e,s)=>{let{decorative:t,orientation:r=h,...l}=e,i=p.includes(r)?r:h;return(0,a.jsx)(x.WV.div,{"data-orientation":i,...t?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...l,ref:s})});u.displayName="Separator";var g=t(7863);let f=r.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...r},l)=>a.jsx(u,{ref:l,decorative:t,orientation:s,className:(0,g.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));f.displayName=u.displayName;let j=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,g.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));j.displayName="Textarea";var y=t(7069),b=t(9163),w=t(949),v=t(8360),N=t(1405);let _=(0,t(2881).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var k=t(2714);function C({earningsData:e,marketData:s,alertsData:t,className:l}){let[c,d]=(0,r.useState)([]),[x,h]=(0,r.useState)(!1),[p,u]=(0,r.useState)("earnings"),[C,S]=(0,r.useState)(null),[F,M]=(0,r.useState)(""),$=async(e,s,t)=>{h(!0);try{let a=await fetch("/api/ai/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,data:s,context:t})});if(a.ok)return(await a.json()).tradeIdea}catch(e){console.error("Failed to generate analysis:",e)}finally{h(!1)}return null},P=async()=>{if(!e||0===e.length)return;let s=[];for(let t of e.slice(0,3)){let e=await $("earnings",t);e&&s.push(e)}d(s)},E=async()=>{if(!s)return;let e=await $("market",s,"market_overview");e&&d([e])},A=async()=>{if(!t||0===t.length)return;let e=[];for(let s of t.slice(0,3)){let t=await $("alert",s);t&&e.push(t)}d(e)},Z=async()=>{if(!F.trim())return;let a={customQuery:F,marketData:s,earningsData:e?.slice(0,5),alertsData:t?.slice(0,5)},r=await $("general",a,"custom_analysis");r&&d([r])},T=e=>{switch(e){case"BULLISH":return a.jsx(y.Z,{className:"h-4 w-4 text-green-600"});case"BEARISH":return a.jsx(b.Z,{className:"h-4 w-4 text-red-600"});default:return a.jsx(w.Z,{className:"h-4 w-4 text-yellow-600"})}},R=e=>{switch(e){case"BULLISH":return"bg-green-100 text-green-800 border-green-200";case"BEARISH":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},D=e=>{switch(e){case"LOW":return"bg-green-100 text-green-800";case"HIGH":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},L=e=>e>=8?"bg-green-100 text-green-800":e>=6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return(0,a.jsxs)(i.Zb,{className:(0,g.cn)("w-full",l),children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(v.Z,{className:"h-5 w-5 text-blue-600"}),a.jsx(i.ll,{children:"AI Trading Guidance"})]}),(0,a.jsxs)(m.z,{onClick:()=>{switch(p){case"earnings":P();break;case"market":E();break;case"alerts":A()}},disabled:x,size:"sm",className:"flex items-center space-x-1",children:[a.jsx(N.Z,{className:(0,g.cn)("h-4 w-4",x&&"animate-spin")}),a.jsx("span",{children:"Analyze"})]})]}),a.jsx(i.SZ,{children:"AI-powered trade ideas and market insights based on real-time data"})]}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)(o.Ph,{value:p,onValueChange:e=>{u(e),d([]),S(null)},children:[a.jsx(o.i4,{className:"w-48",children:a.jsx(o.ki,{placeholder:"Select analysis type"})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"earnings",children:"Earnings Analysis"}),a.jsx(o.Ql,{value:"market",children:"Market Overview"}),a.jsx(o.Ql,{value:"alerts",children:"Alert Analysis"})]})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(j,{placeholder:"Ask AI about specific tickers, strategies, or market conditions...",value:F,onChange:e=>M(e.target.value),className:"min-h-[80px]"}),(0,a.jsxs)(m.z,{onClick:Z,disabled:x||!F.trim(),size:"sm",children:[a.jsx(_,{className:"h-4 w-4 mr-2"}),"Custom Analysis"]})]}),a.jsx(f,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[x&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[a.jsx(N.Z,{className:"h-6 w-6 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Generating AI insights..."})]}),0===c.length&&!x&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(v.Z,{className:"h-12 w-12 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:'Click "Analyze" to generate AI-powered trade ideas'})]}),c.map((e,s)=>(0,a.jsxs)(i.Zb,{className:"border-l-4 border-l-blue-500",children:[(0,a.jsxs)(i.Ol,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(n.C,{variant:"outline",className:"font-mono",children:e.ticker}),(0,a.jsxs)(n.C,{className:R(e.direction),children:[T(e.direction),a.jsx("span",{className:"ml-1",children:e.direction})]}),(0,a.jsxs)(n.C,{className:L(e.confidence),children:[e.confidence,"/10"]}),(0,a.jsxs)(n.C,{className:D(e.riskLevel),children:[e.riskLevel," RISK"]})]}),a.jsx(m.z,{variant:"ghost",size:"sm",onClick:()=>S(C===s?null:s),children:a.jsx(k.Z,{className:"h-4 w-4"})})]}),a.jsx(i.ll,{className:"text-lg",children:e.strategy}),a.jsx(i.SZ,{className:"text-sm",children:e.timeframe})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("p",{className:"text-sm mb-3",children:e.rationale}),C===s&&(0,a.jsxs)("div",{className:"space-y-3 pt-3 border-t",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Key Factors:"}),a.jsx("ul",{className:"space-y-1",children:e.keyFactors.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[a.jsx("span",{className:"text-blue-500 mr-2",children:"â€¢"}),e]},s))})]}),(e.entryPrice||e.targetPrice||e.stopLoss)&&(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Price Levels:"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.entryPrice&&(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Entry:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium",children:["$",e.entryPrice]})]}),e.targetPrice&&(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Target:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-green-600",children:["$",e.targetPrice]})]}),e.stopLoss&&(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Stop:"}),(0,a.jsxs)("span",{className:"ml-1 font-medium text-red-600",children:["$",e.stopLoss]})]})]})]})]})]})]},s))]})]})]})}var S=t(9291);class F{static getInstance(){return F.instance||(F.instance=new F),F.instance}async startEarningsFlowMonitoring(e){if(this.isMonitoring){console.log("Flow monitoring already active");return}console.log("\uD83D\uDE80 Starting FULL WebSocket earnings flow monitoring with authenticated access for:",e),this.isMonitoring=!0,await S.O.startRealTimeMonitoring()?(console.log("âœ… FULL WebSocket access confirmed - enabling ALL institutional-grade filters!"),S.O.subscribeToFilter("big-money-otm-whales",s=>{this.processEarningsAlert(s,e)}),S.O.subscribeToFilter("dark-pool-correlation",s=>{this.processEarningsAlert(s,e)}),S.O.subscribeToFilter("aggressive-short-term",s=>{this.processEarningsAlert(s,e)}),console.log(`ðŸ“¡ Real-time institutional flow monitoring active for ${e.length} earnings tickers`)):console.log("âš ï¸ Fallback: WebSocket connection failed, using polling mode")}processEarningsAlert(e,s){if(!s.includes(e.ticker))return;console.log(`ðŸ“Š Earnings flow detected: ${e.ticker} - ${e.sentiment} - ${this.formatPremium(e.premium)}`),this.flowCache.has(e.ticker)||this.flowCache.set(e.ticker,[]);let t=this.flowCache.get(e.ticker);t.push(e),t.length>50&&t.splice(0,t.length-50),this.updateTickerSentiment(e.ticker)}updateTickerSentiment(e){let s;let t=this.flowCache.get(e)||[];if(0===t.length){this.sentimentCache.set(e,"neutral");return}let a=Date.now(),r=0,l=0,i=0;t.forEach(e=>{let s=(Math.max(0,1-(a-e.timestamp)/864e5)*Math.min(e.premium/1e6,5)+1)/2;i+=s,"bullish"===e.sentiment?r+=s:"bearish"===e.sentiment&&(l+=s)});let n=r/i,c=l/i;s=n>.6?"bullish":c>.6?"bearish":"neutral",this.sentimentCache.set(e,s),console.log(`ðŸ“ˆ Updated sentiment for ${e}: ${s} (${n.toFixed(2)} bullish, ${c.toFixed(2)} bearish)`)}getEarningsFlowSentiment(e){let s={};return e.forEach(e=>{s[e]=this.sentimentCache.get(e)||"neutral"}),s}getFlowAnalysisForTickers(e){let s={};return e.forEach(e=>{let t=this.getFlowStatistics(e),a=this.getTickerFlow(e),r=a.filter(e=>"call"===e.type),l=a.filter(e=>"put"===e.type),i=r.reduce((e,s)=>e+s.premium,0),n=l.reduce((e,s)=>e+s.premium,0),c=r.length+l.length>0?r.length/(r.length+l.length):.5,o=Math.min(90,5*a.length);o=Math.min(95,o+Math.abs(t.bullishCount-t.bearishCount)/Math.max(1,a.length)*30);let d=[],m=[],x=[],h=[];t.bullishCount>1.5*t.bearishCount&&d.push(`Strong call activity (${t.bullishCount} vs ${t.bearishCount})`),t.bearishCount>1.5*t.bullishCount&&m.push(`Heavy put activity (${t.bearishCount} vs ${t.bullishCount})`),t.avgPremium>5e5&&d.push(`Large average trade size ($${(t.avgPremium/1e3).toFixed(0)}K)`);let p=a.map(e=>e.strike).filter((e,s,t)=>t.indexOf(e)===s);p.length>0&&x.push(...p.slice(0,3)),a.length<3&&h.push("Limited activity - low confidence"),s[e]={ticker:e,overall_sentiment:t.sentiment,confidence_score:Math.round(o),metrics:{net_premium_ratio:i+n>0?i/(i+n):.5,volume_ratio:c,delta_flow:i-n,gamma_exposure:.1*Math.abs(i-n),unusual_activity_score:Math.min(100,2*a.length),max_pain_distance:10*Math.random()},breakdown:{bullish_signals:d,bearish_signals:m,key_levels:x,risk_factors:h},last_updated:new Date().toISOString()}}),s}getTickerFlow(e){return this.flowCache.get(e)||[]}getFlowStatistics(e){let s=this.flowCache.get(e)||[],t=this.sentimentCache.get(e)||"neutral",a=s.reduce((e,s)=>e+s.premium,0),r=s.filter(e=>"bullish"===e.sentiment).length,l=s.filter(e=>"bearish"===e.sentiment).length;return{totalPremium:a,alertCount:s.length,avgPremium:s.length>0?a/s.length:0,bullishCount:r,bearishCount:l,sentiment:t}}stopEarningsFlowMonitoring(){console.log("Stopping earnings flow monitoring"),this.isMonitoring=!1,S.O.unsubscribeFromFilter("big-money-otm-whales"),S.O.unsubscribeFromFilter("dark-pool-correlation"),S.O.unsubscribeFromFilter("aggressive-short-term"),this.monitoringTickers.clear()}updateGEXData(e,s){this.gexCache.set(e,{...s,timestamp:Date.now()}),console.log(`ðŸ“Š Updated GEX data for ${e}: Total GEX ${s.totalGEX||"N/A"}`)}updatePriceContext(e,s){this.priceCache.set(e,{...s,timestamp:Date.now()});let t=this.priceCache.get(e)?.previousPrice;if(t&&s.price){let a=(s.price-t)/t;console.log(`ðŸ’¹ ${e} price update: ${a>=0?"+":""}${(100*a).toFixed(2)}%`)}}formatPremium(e){return e>=1e6?`$${(e/1e6).toFixed(2)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}K`:`$${e.toFixed(0)}`}constructor(){this.flowCache=new Map,this.sentimentCache=new Map,this.gexCache=new Map,this.priceCache=new Map,this.monitoringTickers=new Set,this.isMonitoring=!1}}let M=F.getInstance();var $=t(1137),P=t(7358),E=t(8998),A=t(6697);function Z(){let[e,s]=(0,r.useState)(!0),[t,n]=(0,r.useState)(!1),[m,x]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[u,g]=(0,r.useState)("today"),[f,j]=(0,r.useState)({putCallRatioMin:.8,putCallRatioMax:1.3,marketCapMin:1e9,liquidityMin:200,hasOptions:!0,isSpx:null,sector:"all",timeFrame:14}),y=async()=>{n(!0);try{let e=[],s=new Date;for(let t=0;t<10;t++){let a=new Date(s);if(a.setDate(s.getDate()+t),0!==a.getDay()&&6!==a.getDay()&&e.push(a.toISOString().split("T")[0]),e.length>=7)break}let t=[];for(let s of e)try{let[e,a]=await Promise.all([fetch(`/api/earnings?type=afterhours&date=${s}&limit=100`),fetch(`/api/earnings?type=premarket&date=${s}&limit=100`)]);if(e.ok){let s=await e.json();s.data&&t.push(...s.data.map(e=>({symbol:e.symbol,full_name:e.full_name,report_date:e.report_date,report_time:"aftermarket",expected_move:e.expected_move||"0",expected_move_perc:e.expected_move_perc||"0",street_mean_est:e.street_mean_est||"0",actual_eps:e.actual_eps,marketcap:e.marketcap||"0",has_options:e.has_options||!1,is_s_p_500:e.is_s_p_500||!1,sector:e.sector||"Unknown",flow_loading:!0})))}if(a.ok){let e=await a.json();e.data&&t.push(...e.data.map(e=>({symbol:e.symbol,full_name:e.full_name,report_date:e.report_date,report_time:"premarket",expected_move:e.expected_move||"0",expected_move_perc:e.expected_move_perc||"0",street_mean_est:e.street_mean_est||"0",actual_eps:e.actual_eps,marketcap:e.marketcap||"0",has_options:e.has_options||!1,is_s_p_500:e.is_s_p_500||!1,sector:e.sector||"Unknown",flow_loading:!0})))}}catch(e){console.error(`Failed to fetch earnings for ${s}:`,e)}let a=t.reduce((e,s)=>(e.find(e=>e.symbol===s.symbol&&e.report_date===s.report_date)||e.push(s),e),[]);a.sort((e,s)=>new Date(e.report_date).getTime()-new Date(s.report_date).getTime()),x(a),p(a),b(a.filter(e=>e.has_options))}catch(e){console.error("Failed to fetch earnings data:",e),x([]),p([])}finally{n(!1),s(!1)}},b=async e=>{if(0!==e.length)try{console.log("\uD83D\uDE80 Starting FULL WebSocket-based institutional flow analysis with authenticated access!");let s=[...new Set(e.map(e=>e.symbol))];console.log(`ï¿½ Real-time institutional monitoring for ${s.length} earnings tickers with full access:`,s.slice(0,5)),await M.startEarningsFlowMonitoring(s);let t=M.getFlowAnalysisForTickers(s);x(e=>e.map(e=>({...e,flow_sentiment:t[e.symbol]||void 0,flow_loading:!1}))),p(e=>e.map(e=>({...e,flow_sentiment:t[e.symbol]||void 0,flow_loading:!1})));let a=setInterval(()=>{let e=M.getFlowAnalysisForTickers(s);x(s=>s.map(s=>({...s,flow_sentiment:e[s.symbol]||s.flow_sentiment||void 0}))),p(s=>s.map(s=>({...s,flow_sentiment:e[s.symbol]||s.flow_sentiment||void 0})))},5e3);return()=>{clearInterval(a),M.stopEarningsFlowMonitoring()}}catch(s){console.error("Failed to start enhanced flow analysis:",s),console.log("Falling back to API-based flow analysis...");try{let s=e.slice(0,10),t=[...new Set(s.map(e=>e.symbol))].join(","),a=await fetch(`/api/flow-analysis?tickers=${encodeURIComponent(t)}`);if(a.ok){let{data:e}=await a.json();x(s=>s.map(s=>({...s,flow_sentiment:e[s.symbol],flow_loading:!1}))),p(s=>s.map(s=>({...s,flow_sentiment:e[s.symbol],flow_loading:!1})))}}catch(e){console.error("Fallback API also failed:",e)}x(e=>e.map(e=>({...e,flow_loading:!1}))),p(e=>e.map(e=>({...e,flow_loading:!1})))}},w=(e,s)=>{j(t=>({...t,[e]:s}))};return e?(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[a.jsx(l.h,{title:"Earnings Analysis",description:"Track earnings announcements and performance"}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[a.jsx(l.h,{title:"Earnings Analysis",description:"Advanced earnings screening with real-time data",onRefresh:y,refreshing:t}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)(d.mQ,{value:u,onValueChange:e=>g(e),children:[(0,a.jsxs)(d.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(d.SP,{value:"today",children:["Today (",m.filter(e=>new Date(e.report_date).toDateString()===new Date().toDateString()).length,")"]}),(0,a.jsxs)(d.SP,{value:"upcoming",children:["Upcoming (",m.filter(e=>new Date(e.report_date)>new Date).length,")"]}),(0,a.jsxs)(d.SP,{value:"screener",children:["Screener (",h.length,")"]})]}),a.jsx(d.nU,{value:"today",className:"space-y-4",children:a.jsx(T,{data:h})}),a.jsx(d.nU,{value:"upcoming",className:"space-y-4",children:a.jsx(T,{data:h})}),(0,a.jsxs)(d.nU,{value:"screener",className:"space-y-4",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx($.Z,{className:"h-5 w-5"}),"Earnings Screener"]}),a.jsx(i.SZ,{children:"Filter earnings announcements by market cap, options availability, and more"})]}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{children:"Min Market Cap"}),(0,a.jsxs)(o.Ph,{value:f.marketCapMin.toString(),onValueChange:e=>w("marketCapMin",parseInt(e)),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"100000000",children:"$100M"}),a.jsx(o.Ql,{value:"1000000000",children:"$1B"}),a.jsx(o.Ql,{value:"10000000000",children:"$10B"}),a.jsx(o.Ql,{value:"50000000000",children:"$50B"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{children:"Time Frame"}),(0,a.jsxs)(o.Ph,{value:f.timeFrame.toString(),onValueChange:e=>w("timeFrame",parseInt(e)),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"7",children:"Next Week"}),a.jsx(o.Ql,{value:"14",children:"Next 2 Weeks"}),a.jsx(o.Ql,{value:"30",children:"Next Month"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{children:"Sector"}),(0,a.jsxs)(o.Ph,{value:f.sector,onValueChange:e=>w("sector",e),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"all",children:"All Sectors"}),a.jsx(o.Ql,{value:"Technology",children:"Technology"}),a.jsx(o.Ql,{value:"Healthcare",children:"Healthcare"}),a.jsx(o.Ql,{value:"Financial Services",children:"Financial Services"}),a.jsx(o.Ql,{value:"Consumer Cyclical",children:"Consumer Cyclical"}),a.jsx(o.Ql,{value:"Consumer Defensive",children:"Consumer Defensive"}),a.jsx(o.Ql,{value:"Energy",children:"Energy"}),a.jsx(o.Ql,{value:"Industrials",children:"Industrials"}),a.jsx(o.Ql,{value:"Communication Services",children:"Communication Services"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{children:"Options"}),(0,a.jsxs)(o.Ph,{value:f.hasOptions.toString(),onValueChange:e=>w("hasOptions","true"===e),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"false",children:"All Stocks"}),a.jsx(o.Ql,{value:"true",children:"Options Only"})]})]})]})]})})]}),a.jsx(T,{data:h})]})]}),a.jsx(C,{earningsData:h,className:"mt-6"})]})]})}function T({data:e}){return 0===e.length?a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"flex items-center justify-center h-32",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(P.Z,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No earnings data available"})]})})}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map((e,s)=>a.jsx(i.Zb,{className:"hover:shadow-lg transition-shadow",children:(0,a.jsxs)(i.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg font-bold",children:e.symbol}),e.is_s_p_500&&a.jsx(n.C,{variant:"secondary",children:"S&P 500"}),e.has_options&&a.jsx(n.C,{variant:"outline",children:"Options"})]}),a.jsx(i.ll,{className:"text-lg",children:e.symbol}),a.jsx(i.SZ,{className:"text-sm",children:e.full_name})]})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx(E.Z,{className:"h-4 w-4 text-gray-500"}),a.jsx(n.C,{className:`text-xs ${"premarket"===e.report_time?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:e.report_time})]}),a.jsx("p",{className:"text-sm font-medium",children:(0,g.p6)(e.report_date)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Expected Move"}),a.jsx("p",{className:"font-semibold",children:e.expected_move?`$${parseFloat(e.expected_move).toFixed(2)}`:"N/A"}),a.jsx("p",{className:"text-xs text-gray-500",children:e.expected_move_perc?`${(100*parseFloat(e.expected_move_perc)).toFixed(2)}%`:"N/A"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Market Cap"}),a.jsx("p",{className:"font-semibold",children:e.marketcap?(0,g.xG)(parseFloat(e.marketcap)):"N/A"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"EPS Estimate"}),a.jsx("p",{className:"font-semibold",children:e.street_mean_est?`$${parseFloat(e.street_mean_est).toFixed(2)}`:"N/A"})]})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Sector"}),a.jsx("p",{className:"text-xs font-medium",children:e.sector})]})]}),e.has_options&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Flow Sentiment"})]}),e.flow_loading?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):e.flow_sentiment&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(n.C,{variant:"bullish"===e.flow_sentiment.overall_sentiment?"default":"bearish"===e.flow_sentiment.overall_sentiment?"destructive":"secondary",className:"text-xs",children:e.flow_sentiment.overall_sentiment.toUpperCase()}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.flow_sentiment.confidence_score,"% confidence"]})]})]}),e.flow_sentiment&&!e.flow_loading&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Premium Ratio"}),a.jsx("p",{className:"font-medium",children:e.flow_sentiment.metrics.net_premium_ratio.toFixed(2)}),a.jsx("p",{className:"text-xs text-gray-500",children:"C:P"})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Volume Ratio"}),a.jsx("p",{className:"font-medium",children:e.flow_sentiment.metrics.volume_ratio.toFixed(2)}),a.jsx("p",{className:"text-xs text-gray-500",children:"C:P"})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"Delta Flow"}),(0,a.jsxs)("p",{className:"font-medium text-sm",children:[e.flow_sentiment.metrics.delta_flow>=0?"+":"","$",(e.flow_sentiment.metrics.delta_flow/1e6).toFixed(1),"M"]})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-1",children:"GEX"}),(0,a.jsxs)("p",{className:"font-medium text-sm",children:[e.flow_sentiment.metrics.gamma_exposure>=0?"+":"","$",(Math.abs(e.flow_sentiment.metrics.gamma_exposure)/1e6).toFixed(1),"M"]})]})]}),e.flow_sentiment&&!e.flow_loading&&(0,a.jsxs)("div",{className:"mt-3",children:[e.flow_sentiment.breakdown.bullish_signals.length>0&&(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[a.jsx(y.Z,{className:"h-3 w-3 text-green-600"}),a.jsx("span",{className:"text-xs font-medium text-green-600",children:"Bullish Signals:"})]}),a.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1 ml-4",children:e.flow_sentiment.breakdown.bullish_signals.slice(0,2).map((e,s)=>(0,a.jsxs)("li",{className:"list-disc",children:["â€¢ ",e]},s))})]}),e.flow_sentiment.breakdown.bearish_signals.length>0&&(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[a.jsx(b.Z,{className:"h-3 w-3 text-red-600"}),a.jsx("span",{className:"text-xs font-medium text-red-600",children:"Bearish Signals:"})]}),a.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1 ml-4",children:e.flow_sentiment.breakdown.bearish_signals.slice(0,2).map((e,s)=>(0,a.jsxs)("li",{className:"list-disc",children:["â€¢ ",e]},s))})]}),e.flow_sentiment.breakdown.risk_factors.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[a.jsx(w.Z,{className:"h-3 w-3 text-orange-600"}),a.jsx("span",{className:"text-xs font-medium text-orange-600",children:"Risk Factors:"})]}),a.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1 ml-4",children:e.flow_sentiment.breakdown.risk_factors.slice(0,1).map((e,s)=>(0,a.jsxs)("li",{className:"list-disc",children:["â€¢ ",e]},s))})]})]})]})]})},`${e.symbol}-${e.report_date}-${s}`))})}},4186:(e,s,t)=>{"use strict";t.d(s,{h:()=>n});var a=t(326),r=t(772),l=t(1405),i=t(6507);function n({title:e,description:s,onRefresh:t,refreshing:n=!1,showRefresh:c=!0}){return a.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e}),s&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[c&&t&&(0,a.jsxs)(r.z,{variant:"outline",size:"sm",onClick:t,disabled:n,className:"flex items-center space-x-2",children:[a.jsx(l.Z,{className:`h-4 w-4 ${n?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsx(r.z,{variant:"outline",size:"icon",children:a.jsx(i.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Analytics User"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Personal Dashboard"})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-white",children:"U"})})]})]})]})})}},1048:(e,s,t)=>{"use strict";t.d(s,{_:()=>o});var a=t(326),r=t(7577),l=t(4478),i=t(8671),n=t(7863);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...s},t)=>a.jsx(l.f,{ref:t,className:(0,n.cn)(c(),e),...s}));o.displayName=l.f.displayName},4474:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>u,Ph:()=>d,Ql:()=>g,i4:()=>x,ki:()=>m});var a=t(326),r=t(7577),l=t(9109),i=t(8393),n=t(6633),c=t(2933),o=t(7863);let d=l.fC;l.ZA;let m=l.B4,x=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(l.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,a.jsx(l.JO,{asChild:!0,children:a.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.xz.displayName;let h=r.forwardRef(({className:e,...s},t)=>a.jsx(l.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(n.Z,{className:"h-4 w-4"})}));h.displayName=l.u_.displayName;let p=r.forwardRef(({className:e,...s},t)=>a.jsx(l.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=l.$G.displayName;let u=r.forwardRef(({className:e,children:s,position:t="popper",...r},i)=>a.jsx(l.h_,{children:(0,a.jsxs)(l.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[a.jsx(h,{}),a.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),a.jsx(p,{})]})}));u.displayName=l.VY.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(l.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=l.__.displayName;let g=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(l.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(l.wU,{children:a.jsx(c.Z,{className:"h-4 w-4"})})}),a.jsx(l.eT,{children:s})]}));g.displayName=l.ck.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(l.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=l.Z0.displayName},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1137:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},768:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\mjhen\HTER\HTMLER\app\dashboard\earnings\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,2643,5524,5408,6118,9308,9509],()=>t(6444));module.exports=a})();